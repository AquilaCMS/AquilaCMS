<ns-box data-title="promo.list.t1" title-icon="fa fa-percent fa-lg" new-href="#/promos/new">
    <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper form-inline" role="grid">
        <div class="row">
            <div class="col-lg-12">
                <div class="dataTables_filter">
                    <label>
                        <input  type="search" ng-change="search(searchPromoByName)" ng-model="searchPromoByName" ng-model-options="{ debounce: 500 }"
                                name="q" id="q" translate translate-attr-placeholder='promo.list.ph1' class="search-field">
                    </label>
                </div>
            </div>
        </div>

        <table class="table table-striped table-bordered table-hover bootstrap-datatable datatable dataTable" id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
            <thead>
                <tr role="row">
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'name'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.list.nom
                            <span ng-show="sort.type == 'name' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'name' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'type'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.list.type
                            <span ng-show="sort.type == 'type' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'type' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'dateStart'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.list.dateDeb
                            <span ng-show="sort.type == 'dateStart' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'dateStart' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'dateEnd'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.list.dateFin
                            <span ng-show="sort.type == 'dateEnd' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'dateEnd' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'createdAt'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.list.dateCre
                            <span ng-show="sort.type == 'createdAt' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'createdAt' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'priority'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.detail.priority
                            <span ng-show="sort.type == 'priority' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'priority' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'applyNextRules'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.detail.applyNextRules
                            <span ng-show="sort.type == 'applyNextRules' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'applyNextRules' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                    <th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 200px;">
                        <a ng-click="sort.type = 'actif'; sort.reverse = !sort.reverse; PromoGetById(1);" translate>
                            promo.list.actif
                            <span ng-show="sort.type == 'actif' && !sort.reverse" class="ico-chevron-down"></span>
                            <span ng-show="sort.type == 'actif' && sort.reverse" class="ico-chevron-up"></span>
                        </a>
                    </th>
                </tr>
            </thead>
            <tbody role="alert" aria-live="polite" aria-relevant="all">
                <tr class="pointer" ng-click="detail(promo)" ng-repeat="promo in promos" ng-class-odd="'odd'" ng-class-even="'even'">
                    <td>{{promo.name}}</td>
                    <td>{{promo.type === "1" ? "Panier" : "Catalogue"}}</td>
                    <td>{{ momentDate(promo.dateStart) }}</td>
                    <td>{{ momentDate(promo.dateEnd) }}</td>
                    <td>{{ momentDate(promo.createdAt) }}</td>
                    <td>{{promo.priority}}</td>
                    <td>{{promo.applyNextRules ? "Oui" : "Non"}}</td>
                    <td>{{promo.actif ? "Actif" : "Non actif"}}</td>
                </tr>
            </tbody>
        </table>
        <pagination total-items="totalPromos" page="currentPage" on-select-page="onPageChange(page)"
                    items-per-page="nbPromosPerPage" max-size="maxSize" boundary-links="true" rotate="false"></pagination>
    </div>
</ns-box>
